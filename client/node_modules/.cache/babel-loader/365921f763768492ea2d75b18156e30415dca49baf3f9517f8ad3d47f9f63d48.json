{"ast":null,"code":"import _objectSpread from\"/Users/kyawzayannaing/Downloads/simple-crud/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/kyawzayannaing/Downloads/simple-crud/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/kyawzayannaing/Downloads/simple-crud/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kyawzayannaing/Downloads/simple-crud/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kyawzayannaing/Downloads/simple-crud/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./App.css\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState({name:\"\",age:0,country:\"\",position:\"\",wage:0}),_useState2=_slicedToArray(_useState,2),obj=_useState2[0],setObj=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),employeeList=_useState4[0],setEmployeeList=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isEdit=_useState8[0],setIsEdit=_useState8[1];var loadEmployees=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:3001/get\");case 2:data=_context.sent;setEmployeeList(data.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function loadEmployees(){return _ref.apply(this,arguments);};}();useEffect(function(){loadEmployees();},[]);var resetValues=function resetValues(){setObj({name:\"\",age:\"\",country:\"\",position:\"\",wage:\"\"});};var submitHandler=function submitHandler(e){e.preventDefault();resetValues();axios.post(\"http://localhost:3001/create\",{data:obj}).then(function(){console.log(\"Post Success\");loadEmployees();});};var deleteHandler=function deleteHandler(id){axios.delete(\"http://localhost:3001/remove/\".concat(id)).then(function(res){console.log(\"Delete Success\");setEmployeeList(employeeList.filter(function(item){return item.id!==id;}));loadEmployees();});};var editHandler=function editHandler(id){setIsEdit(false);axios.get(\"http://localhost:3001/get/\".concat(id)).then(function(res){var data=res.data;setObj.apply(void 0,_toConsumableArray(data));});};var updateHandler=function updateHandler(id){axios.put(\"http://localhost:3001/put/\".concat(id),{data:obj}).then(function(res){console.log(\"Update Success\");resetValues();loadEmployees();});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"form\",{action:\"submit\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"input\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{htmlFor:\"input\",value:obj.name,onChange:function onChange(e){setObj(function(prev){return _objectSpread(_objectSpread({},prev),{},{name:e.target.value});});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"input\",children:\"Age:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:obj.age===0?\"\":obj.age,onChange:function onChange(e){setObj(function(prev){return _objectSpread(_objectSpread({},prev),{},{age:e.target.value});});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"input\",children:\"Country:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:obj.country,onChange:function onChange(e){setObj(function(prev){return _objectSpread(_objectSpread({},prev),{},{country:e.target.value});});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"input\",children:\"Position:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:obj.position,onChange:function onChange(e){setObj(function(prev){return _objectSpread(_objectSpread({},prev),{},{position:e.target.value});});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"input\",children:\"Wage (year):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:obj.wage===0?\"\":obj.wage,onChange:function onChange(e){setObj(function(prev){return _objectSpread(_objectSpread({},prev),{},{wage:e.target.value});});}}),/*#__PURE__*/_jsx(\"button\",{onClick:submitHandler,type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"show\",onClick:function onClick(e){e.preventDefault();setShow(function(prev){return!prev;});},children:\"Show\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"employees\",children:show&&employeeList.map(function(employee){return/*#__PURE__*/_jsxs(\"div\",{className:\"employee\",children:[/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Name: \",employee.name]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Age: \",employee.age]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Country: \",employee.country]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Position: \",employee.position]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Wage: \",employee.wage]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:isEdit?function(){return editHandler(employee.id);}:function(){return updateHandler(employee.id);},children:isEdit?\"Edit\":\"Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteHandler(employee.id);},children:\"Delete\"})]});})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","App","name","age","country","position","wage","obj","setObj","employeeList","setEmployeeList","show","setShow","isEdit","setIsEdit","loadEmployees","get","data","resetValues","submitHandler","e","preventDefault","post","then","console","log","deleteHandler","id","delete","res","filter","item","editHandler","updateHandler","put","prev","target","value","map","employee"],"sources":["/Users/kyawzayannaing/Downloads/simple-crud/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [obj, setObj] = useState({\n    name: \"\",\n    age: 0,\n    country: \"\",\n    position: \"\",\n    wage: 0,\n  });\n\n  const [employeeList, setEmployeeList] = useState([]);\n\n  const [show, setShow] = useState(false);\n\n  const [isEdit, setIsEdit] = useState(true);\n\n  const loadEmployees = async () => {\n    const data = await axios.get(\"http://localhost:3001/get\");\n    setEmployeeList(data.data);\n  };\n\n  useEffect(() => {\n    loadEmployees();\n  }, []);\n\n  const resetValues = () => {\n    setObj({\n      name: \"\",\n      age: \"\",\n      country: \"\",\n      position: \"\",\n      wage: \"\",\n    });\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    resetValues();\n\n    axios\n      .post(\"http://localhost:3001/create\", {\n        data: obj,\n      })\n      .then(() => {\n        console.log(\"Post Success\");\n        loadEmployees();\n      });\n  };\n\n  const deleteHandler = (id) => {\n    axios.delete(`http://localhost:3001/remove/${id}`).then((res) => {\n      console.log(\"Delete Success\");\n      setEmployeeList(employeeList.filter((item) => item.id !== id));\n      loadEmployees();\n    });\n  };\n\n  const editHandler = (id) => {\n    setIsEdit(false);\n    axios.get(`http://localhost:3001/get/${id}`).then((res) => {\n      const data = res.data;\n      setObj(...data);\n    });\n  };\n\n  const updateHandler = (id) => {\n    axios\n      .put(`http://localhost:3001/put/${id}`, {\n        data: obj,\n      })\n      .then((res) => {\n        console.log(\"Update Success\");\n        resetValues();\n        loadEmployees();\n      });\n  };\n\n  return (\n    <>\n      <div className=\"App\">\n        <form action=\"submit\">\n          <label htmlFor=\"input\">Name:</label>\n          <input\n            htmlFor=\"input\"\n            value={obj.name}\n            onChange={(e) => {\n              setObj((prev) => {\n                return { ...prev, name: e.target.value };\n              });\n            }}\n          />\n          <label htmlFor=\"input\">Age:</label>\n          <input\n            type=\"number\"\n            value={obj.age === 0 ? \"\" : obj.age}\n            onChange={(e) => {\n              setObj((prev) => {\n                return { ...prev, age: e.target.value };\n              });\n            }}\n          />\n          <label htmlFor=\"input\">Country:</label>\n          <input\n            type=\"text\"\n            value={obj.country}\n            onChange={(e) => {\n              setObj((prev) => {\n                return { ...prev, country: e.target.value };\n              });\n            }}\n          />\n          <label htmlFor=\"input\">Position:</label>\n          <input\n            type=\"text\"\n            value={obj.position}\n            onChange={(e) => {\n              setObj((prev) => {\n                return { ...prev, position: e.target.value };\n              });\n            }}\n          />\n          <label htmlFor=\"input\">Wage (year):</label>\n          <input\n            type=\"number\"\n            value={obj.wage === 0 ? \"\" : obj.wage}\n            onChange={(e) => {\n              setObj((prev) => {\n                return { ...prev, wage: e.target.value };\n              });\n            }}\n          />\n          <button onClick={submitHandler} type=\"submit\">\n            Submit\n          </button>\n          <button\n            className=\"show\"\n            onClick={(e) => {\n              e.preventDefault();\n              setShow((prev) => !prev);\n            }}\n          >\n            Show\n          </button>\n        </form>\n        <div className=\"employees\">\n          {show &&\n            employeeList.map((employee) => {\n              return (\n                <div className=\"employee\">\n                  <ul>\n                    <li>Name: {employee.name}</li>\n                    <li>Age: {employee.age}</li>\n                    <li>Country: {employee.country}</li>\n                    <li>Position: {employee.position}</li>\n                    <li>Wage: {employee.wage}</li>\n                  </ul>\n                  <button\n                    onClick={\n                      isEdit\n                        ? () => editHandler(employee.id)\n                        : () => updateHandler(employee.id)\n                    }\n                  >\n                    {isEdit ? \"Edit\" : \"Update\"}\n                  </button>\n                  <button onClick={() => deleteHandler(employee.id)}>\n                    Delete\n                  </button>\n                </div>\n              );\n            })}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}